{"version":3,"sources":["../src/ajax-load.js"],"names":["AjaxLoad","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","ClassName","ACTIVE","NAV_PILLS","NAV_TABS","OPEN","Event","CLICK","Selector","NAV_DROPDOWN","NAV_LINK","NAV_ITEM","Default","defaultPage","errorPage","subpagesDirectory","element","config","_config","_getConfig","_element","url","location","hash","replace","setUpUrl","_addEventListeners","loadPage","ajax","type","dataType","cache","async","success","Pace","restart","animate","scrollTop","load","window","error","href","removeClass","split","addClass","loadBlank","open","loadTop","document","on","event","preventDefault","stopPropagation","currentTarget","target","pathname","_jQueryInterface","each","data","Constructor","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery'\r\n\r\n/**\r\n * --------------------------------------------------------------------------\r\n * CoreUI (v2.0.0-beta.6): ajax-load.js\r\n * Licensed under MIT (https://coreui.io/license)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\n\r\nconst AjaxLoad = (($) => {\r\n  /**\r\n   * ------------------------------------------------------------------------\r\n   * Constants\r\n   * ------------------------------------------------------------------------\r\n   */\r\n\r\n  const NAME                       = 'ajaxLoad'\r\n  const VERSION                    = '2.0.0-beta.6'\r\n  const DATA_KEY                   = 'coreui.ajaxLoad'\r\n  const JQUERY_NO_CONFLICT         = $.fn[NAME]\r\n\r\n  const ClassName = {\r\n    ACTIVE    : 'active',\r\n    NAV_PILLS : 'nav-pills',\r\n    NAV_TABS  : 'nav-tabs',\r\n    OPEN      : 'open'\r\n  }\r\n\r\n  const Event = {\r\n    CLICK : 'click'\r\n  }\r\n\r\n  const Selector = {\r\n    NAV_DROPDOWN : '.sidebar-nav .nav-dropdown',\r\n    NAV_LINK     : '.sidebar-nav .nav-link',\r\n    NAV_ITEM     : '.sidebar-nav .nav-item'\r\n  }\r\n\r\n  const Default = {\r\n    defaultPage       : 'main.html',\r\n    errorPage         : '404.html',\r\n    subpagesDirectory : 'views/'\r\n  }\r\n\r\n  class AjaxLoad {\r\n    constructor(element, config) {\r\n      this._config = this._getConfig(config)\r\n      this._element = element\r\n\r\n      const url = location.hash.replace(/^#/, '')\r\n      // eslint-disable-next-line no-unused-expressions\r\n      url !== '' ? this.setUpUrl(url) : this.setUpUrl(this._config.defaultPage)\r\n      this._addEventListeners()\r\n    }\r\n\r\n    // Getters\r\n\r\n    static get VERSION() {\r\n      return VERSION\r\n    }\r\n\r\n    static get Default() {\r\n      return Default\r\n    }\r\n\r\n    // Public\r\n\r\n    loadPage(url) {\r\n      const element = this._element\r\n      const config = this._config\r\n\r\n      $.ajax({\r\n        type : 'GET',\r\n        url : config.subpagesDirectory + url,\r\n        dataType : 'html',\r\n        cache : false,\r\n        async: false,\r\n        success: function success() {\r\n          if (typeof Pace !== 'undefined') {\r\n            // eslint-disable-next-line no-undef\r\n            Pace.restart()\r\n          }\r\n          $('body').animate({\r\n            scrollTop: 0\r\n          }, 0)\r\n          $(element).load(config.subpagesDirectory + url, null, () => {\r\n            window.location.hash = url\r\n          })\r\n        },\r\n        error: function error() {\r\n          window.location.href = config.errorPage\r\n        }\r\n      })\r\n    }\r\n\r\n    setUpUrl(url) {\r\n      $(Selector.NAV_LINK).removeClass(ClassName.ACTIVE)\r\n      $(Selector.NAV_DROPDOWN).removeClass(ClassName.OPEN)\r\n      // eslint-disable-next-line prefer-template\r\n      $(Selector.NAV_DROPDOWN + ':has(a[href=\"' + url.replace(/^\\//, '').split('?')[0] + '\"])').addClass(ClassName.OPEN)\r\n      // eslint-disable-next-line prefer-template\r\n      $(Selector.NAV_ITEM + ' a[href=\"' + url.replace(/^\\//, '').split('?')[0] + '\"]').addClass(ClassName.ACTIVE)\r\n\r\n      this.loadPage(url)\r\n    }\r\n\r\n    loadBlank(url) {\r\n      window.open(url)\r\n    }\r\n\r\n    loadTop(url) {\r\n      window.location = url\r\n    }\r\n\r\n    // Private\r\n\r\n    _getConfig(config) {\r\n      config = {\r\n        ...Default,\r\n        ...config\r\n      }\r\n      return config\r\n    }\r\n\r\n    _addEventListeners() {\r\n      // eslint-disable-next-line prefer-template\r\n      $(document).on(Event.CLICK, Selector.NAV_LINK + '[href!=\"#\"]', (event) => {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n\r\n        if (event.currentTarget.target === '_top') {\r\n          this.loadTop(event.currentTarget.href)\r\n        } else if (event.currentTarget.target === '_blank') {\r\n          this.loadBlank(event.currentTarget.href)\r\n        } else {\r\n          this.setUpUrl(event.currentTarget.pathname)\r\n        }\r\n      })\r\n    }\r\n\r\n    // Static\r\n\r\n    static _jQueryInterface(config) {\r\n      return this.each(function () {\r\n        let data = $(this).data(DATA_KEY)\r\n        const _config = typeof config === 'object' && config\r\n\r\n        if (!data) {\r\n          data = new AjaxLoad(this, _config)\r\n          $(this).data(DATA_KEY, data)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ------------------------------------------------------------------------\r\n   * jQuery\r\n   * ------------------------------------------------------------------------\r\n   */\r\n\r\n  $.fn[NAME] = AjaxLoad._jQueryInterface\r\n  $.fn[NAME].Constructor = AjaxLoad\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return AjaxLoad._jQueryInterface\r\n  }\r\n\r\n  return AjaxLoad\r\n})($)\r\n\r\nexport default AjaxLoad\r\n"],"file":"ajax-load.js"}