{"version":3,"sources":["../src/sidebar.js"],"names":["Sidebar","$","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","ClassName","ACTIVE","BRAND_MINIMIZED","NAV_DROPDOWN_TOGGLE","OPEN","SIDEBAR_FIXED","SIDEBAR_MINIMIZED","SIDEBAR_OFF_CANVAS","Event","CLICK","DESTROY","INIT","LOAD_DATA_API","TOGGLE","Selector","BODY","BRAND_MINIMIZER","NAVIGATION_CONTAINER","NAVIGATION","SIDEBAR","SIDEBAR_MINIMIZER","SIDEBAR_TOGGLER","ShowClassNames","element","_element","perfectScrollbar","setActiveLink","_addEventListeners","event","PerfectScrollbar","ps","document","body","classList","contains","querySelector","suppressScrollX","destroy","find","each","key","value","link","cUrl","String","window","location","split","substr","length","slice","href","addClass","parents","add","parent","on","preventDefault","stopPropagation","toggleClass","dropdown","target","toggle","currentTarget","dataset","ToggleClasses","_jQueryInterface","$element","data","sidebar","call","Constructor","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery'\nimport PerfectScrollbar from 'perfect-scrollbar'\nimport ToggleClasses from './toggle-classes'\n\n/**\n * --------------------------------------------------------------------------\n * CoreUI (v2.0.0-alpha.2): sidebar.js\n * Licensed under MIT (https://coreui.io/license)\n * --------------------------------------------------------------------------\n */\n\nconst Sidebar = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                = 'sidebar'\n  const VERSION             = '2.0.0-alpha.2'\n  const DATA_KEY            = 'coreui.sidebar'\n  const EVENT_KEY           = `.${DATA_KEY}`\n  const DATA_API_KEY        = '.data-api'\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n\n  const ClassName = {\n    ACTIVE              : 'active',\n    BRAND_MINIMIZED     : 'brand-minimized',\n    NAV_DROPDOWN_TOGGLE : 'nav-dropdown-toggle',\n    OPEN                : 'open',\n    SIDEBAR_FIXED       : 'sidebar-fixed',\n    SIDEBAR_MINIMIZED   : 'sidebar-minimized',\n    SIDEBAR_OFF_CANVAS  : 'sidebar-off-canvas'\n  }\n\n  const Event = {\n    CLICK         : 'click',\n    DESTROY       : 'destroy',\n    INIT          : 'init',\n    LOAD_DATA_API : `load${EVENT_KEY}${DATA_API_KEY}`,\n    TOGGLE        : 'toggle'\n  }\n\n  const Selector = {\n    BODY                 : 'body',\n    BRAND_MINIMIZER      : '.brand-minimizer',\n    NAV_DROPDOWN_TOGGLE  : '.nav-dropdown-toggle',\n    NAVIGATION_CONTAINER : '.sidebar-nav',\n    NAVIGATION           : '.sidebar-nav > .nav',\n    SIDEBAR              : '.sidebar',\n    SIDEBAR_MINIMIZER    : '.sidebar-minimizer',\n    SIDEBAR_TOGGLER      : '.sidebar-toggler'\n  }\n\n  const ShowClassNames = [\n    'sidebar-show',\n    'sidebar-sm-show',\n    'sidebar-md-show',\n    'sidebar-lg-show',\n    'sidebar-xl-show'\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Sidebar {\n    constructor(element) {\n      this._element = element\n      this.perfectScrollbar('init')\n      this.setActiveLink()\n      this._addEventListeners()\n    }\n\n    // Getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    // Public\n\n    perfectScrollbar(event) {\n      if (typeof PerfectScrollbar !== 'undefined') {\n        let ps\n\n        if (event === Event.INIT && !document.body.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n          ps = new PerfectScrollbar(document.querySelector(Selector.NAVIGATION_CONTAINER), {\n            suppressScrollX: true\n          })\n        }\n\n        if (event === Event.DESTROY) {\n          ps = new PerfectScrollbar(document.querySelector(Selector.NAVIGATION_CONTAINER), {\n            suppressScrollX: true\n          })\n          ps.destroy()\n          ps = null\n        }\n\n        if (event === Event.TOGGLE) {\n          if (document.body.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n            ps = new PerfectScrollbar(document.querySelector(Selector.NAVIGATION_CONTAINER), {\n              suppressScrollX: true\n            })\n            ps.destroy()\n            ps = null\n          } else {\n            ps = new PerfectScrollbar(document.querySelector(Selector.NAVIGATION_CONTAINER), {\n              suppressScrollX: true\n            })\n          }\n        }\n      }\n    }\n\n    setActiveLink() {\n      $(Selector.NAVIGATION).find('a').each((key, value) => {\n        let link = value\n        let cUrl = String(window.location).split('?')[0]\n\n        if (cUrl.substr(cUrl.length - 1) === '#') {\n          cUrl = cUrl.slice(0, -1)\n        }\n\n        if ($($(link))[0].href === cUrl) {\n          $(link).addClass(ClassName.ACTIVE).parents('ul').add(link).each((key, value) => {\n            link = value\n            $(link).parent().addClass(ClassName.OPEN)\n          })\n        }\n      })\n    }\n\n    // Private\n\n    _addEventListeners() {\n      $(Selector.BRAND_MINIMIZER).on(Event.CLICK, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        $(Selector.BODY).toggleClass(ClassName.BRAND_MINIMIZED)\n      })\n\n      $(Selector.NAV_DROPDOWN_TOGGLE).on(Event.CLICK, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        const dropdown = event.target\n        $(dropdown).parent().toggleClass(ClassName.OPEN)\n      })\n\n      $(Selector.SIDEBAR_MINIMIZER).on(Event.CLICK, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        $(Selector.BODY).toggleClass(ClassName.SIDEBAR_MINIMIZED)\n        this.perfectScrollbar(Event.TOGGLE)\n      })\n\n      $(Selector.SIDEBAR_TOGGLER).on(Event.CLICK, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        const toggle = event.currentTarget.dataset.toggle\n        ToggleClasses(toggle, ShowClassNames)\n      })\n    }\n\n    // Static\n\n    static _jQueryInterface() {\n      return this.each(function () {\n        const $element = $(this)\n        let data = $element.data(DATA_KEY)\n\n        if (!data) {\n          data = new Sidebar(this)\n          $element.data(DATA_KEY, data)\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n  $(window).on(Event.LOAD_DATA_API, () => {\n    const sidebar = $(Selector.SIDEBAR)\n    Sidebar._jQueryInterface.call(sidebar)\n  })\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME] = Sidebar._jQueryInterface\n  $.fn[NAME].Constructor = Sidebar\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Sidebar._jQueryInterface\n  }\n\n  return Sidebar\n})($)\n\nexport default Sidebar\n"],"file":"sidebar.js"}