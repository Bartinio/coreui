{"version":3,"sources":["../src/class-toggler.js"],"names":["jQuery","$","Data","EventHandler","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","Default","breakpoints","postfix","responsive","target","ClassName","CLASS_TOGGLER","Event","CLASS_TOGGLE","CLICK_DATA_API","Selector","ClassToggler","element","_element","toggle","data","dataset","replace","split","classNames","classes","targets","forEach","el","parentNode","document","querySelector","className","classList","event","CustomEvent","detail","class","dispatchEvent","currentBreakpoint","breakpoint","includes","responsiveClasses","push","splice","indexOf","addResponsiveClasses","responsiveClass","contains","remove","add","_classTogglerInterface","config","getData","_config","TypeError","_jQueryInterface","each","on","preventDefault","toggler","closest","JQUERY_NO_CONFLICT","fn","Constructor","noConflict"],"mappings":"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","sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI (v3.0.0-next): class-toggler.js\n * Licensed under MIT (https://coreui.io/license)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  jQuery as $\n} from './util/index'\nimport Data from './dom/data'\nimport EventHandler from './dom/eventHandler'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'class-toggler'\nconst VERSION = '3.0.0'\nconst DATA_KEY = 'coreui.class-toggler'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst Default = {\n  breakpoints: '-sm,-md,-lg,-xl',\n  postfix: '-show',\n  responsive: false,\n  target: 'body'\n}\n\nconst ClassName = {\n  CLASS_TOGGLER: 'c-class-toggler'\n}\n\nconst Event = {\n  CLASS_TOGGLE: 'classtoggle',\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\n}\n\nconst Selector = {\n  CLASS_TOGGLER: '.c-class-toggler'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass ClassToggler {\n  constructor(element) {\n    this._element = element\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  // Public\n  toggle() {\n    const data = this._element.dataset\n    let breakpoints = (data.breakpoints ? data.breakpoints : Default.breakpoints).replace(/ /g, '').split(',')\n    const classNames = data.classes.replace(/ /g, '').split(',')\n    const postfix = data.postfix ? data.postfix : Default.postfix\n    const targets = (data.target ? data.target : Default.target).replace(/ /g, '').split(',')\n    const responsive = data.responsive ? data.responsive : Default.responsive\n\n    targets.forEach(target => {\n      let el\n      if (target === '_parent' || target === 'parent') {\n        el = this._element.parentNode\n      } else {\n        el = document.querySelector(target)\n      }\n\n      classNames.forEach(className => {\n        // eslint-disable-next-line no-negated-condition\n        if (!responsive) {\n          el.classList.toggle(className)\n          const event = new CustomEvent(Event.CLASS_TOGGLE, {\n            detail: {\n              target,\n              class: className\n            }\n          })\n          el.dispatchEvent(event)\n        } else {\n          let currentBreakpoint\n          breakpoints.forEach(breakpoint => {\n            if (className.includes(breakpoint)) {\n              currentBreakpoint = breakpoint\n            }\n          })\n          const responsiveClasses = []\n          if (typeof currentBreakpoint === 'undefined') {\n            responsiveClasses.push(className)\n          } else {\n            responsiveClasses.push(className.replace(`${currentBreakpoint}${postfix}`, postfix))\n            breakpoints = breakpoints.splice(0, breakpoints.indexOf(currentBreakpoint) + 1)\n            breakpoints.forEach(breakpoint => {\n              responsiveClasses.push(className.replace(`${currentBreakpoint}${postfix}`, `${breakpoint}${postfix}`))\n            })\n          }\n\n          let addResponsiveClasses = false\n          responsiveClasses.forEach(responsiveClass => {\n            if (el.classList.contains(responsiveClass)) {\n              addResponsiveClasses = true\n            }\n          })\n\n          if (addResponsiveClasses) {\n            responsiveClasses.forEach(responsiveClass => {\n              el.classList.remove(responsiveClass)\n              const event = new CustomEvent(Event.CLASS_TOGGLE, {\n                detail: {\n                  target,\n                  class: responsiveClass\n                }\n              })\n              el.dispatchEvent(event)\n            })\n          } else {\n            el.classList.add(className)\n            const event = new CustomEvent(Event.CLASS_TOGGLE, {\n              detail: {\n                target,\n                class: className\n              }\n            })\n            el.dispatchEvent(event)\n          }\n        }\n      })\n    })\n  }\n\n  // Static\n\n  static _classTogglerInterface(element, config) {\n    let data = Data.getData(element, DATA_KEY)\n    const _config = typeof config === 'object' && config\n\n    if (!data) {\n      data = new ClassToggler(element, _config)\n    }\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      ClassToggler._classTogglerInterface(this, config)\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler.on(document, Event.CLICK_DATA_API, Selector.CLASS_TOGGLER, event => {\n  event.preventDefault()\n  let toggler = event.target\n  if (!toggler.classList.contains(ClassName.CLASS_TOGGLER)) {\n    toggler = toggler.closest(Selector.CLASS_TOGGLER)\n  }\n\n  ClassToggler._classTogglerInterface(toggler, 'toggle')\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n * add .c-class-toggler to jQuery only if jQuery is present\n */\n\nif (typeof $ !== 'undefined') {\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n  $.fn[NAME] = ClassToggler._jQueryInterface\n  $.fn[NAME].Constructor = ClassToggler\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return ClassToggler._jQueryInterface\n  }\n}\n\nexport default ClassToggler\n"],"file":"class-toggler.js"}